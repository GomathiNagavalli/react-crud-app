{"ast":null,"code":"import axios from 'axios';\n\n// Base URL for the API\n// Detect environment: Use localhost:5000 (json-server) in development,\n// and relative path /api/users (Vercel Serverless) in production.\nconst PROD_API = '/api/users';\nconst DEV_API = 'http://localhost:5000/users';\nconst API_URL = process.env.NODE_ENV === 'development' ? DEV_API : PROD_API;\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// API Service Object\nconst userService = {\n  // Get all users\n  getAll: async () => {\n    try {\n      const response = await api.get('');\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Get single user by ID\n  getById: async id => {\n    try {\n      const response = await api.get(`/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Create new user\n  create: async userData => {\n    try {\n      const response = await api.post('', userData);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Update existing user\n  update: async (id, userData) => {\n    try {\n      const response = await api.put(`/${id}`, userData);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Delete user\n  delete: async id => {\n    try {\n      const response = await api.delete(`/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n};\nexport default userService;","map":{"version":3,"names":["axios","PROD_API","DEV_API","API_URL","process","env","NODE_ENV","api","create","baseURL","headers","userService","getAll","response","get","data","error","getById","id","userData","post","update","put","delete"],"sources":["C:/Users/gomathi/.gemini/antigravity/scratch/react-crud-app/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Base URL for the API\r\n// Detect environment: Use localhost:5000 (json-server) in development,\r\n// and relative path /api/users (Vercel Serverless) in production.\r\nconst PROD_API = '/api/users';\r\nconst DEV_API = 'http://localhost:5000/users';\r\n\r\nconst API_URL = process.env.NODE_ENV === 'development' ? DEV_API : PROD_API;\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// API Service Object\r\nconst userService = {\r\n    // Get all users\r\n    getAll: async () => {\r\n        try {\r\n            const response = await api.get('');\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Get single user by ID\r\n    getById: async (id) => {\r\n        try {\r\n            const response = await api.get(`/${id}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Create new user\r\n    create: async (userData) => {\r\n        try {\r\n            const response = await api.post('', userData);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Update existing user\r\n    update: async (id, userData) => {\r\n        try {\r\n            const response = await api.put(`/${id}`, userData);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Delete user\r\n    delete: async (id) => {\r\n        try {\r\n            const response = await api.delete(`/${id}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n};\r\n\r\nexport default userService;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA,MAAMC,QAAQ,GAAG,YAAY;AAC7B,MAAMC,OAAO,GAAG,6BAA6B;AAE7C,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAGJ,OAAO,GAAGD,QAAQ;AAE3E,MAAMM,GAAG,GAAGP,KAAK,CAACQ,MAAM,CAAC;EACrBC,OAAO,EAAEN,OAAO;EAChBO,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACA,MAAMC,WAAW,GAAG;EAChB;EACAC,MAAM,EAAE,MAAAA,CAAA,KAAY;IAChB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMN,GAAG,CAACO,GAAG,CAAC,EAAE,CAAC;MAClC,OAAOD,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAC,OAAO,EAAE,MAAOC,EAAE,IAAK;IACnB,IAAI;MACA,MAAML,QAAQ,GAAG,MAAMN,GAAG,CAACO,GAAG,CAAC,IAAII,EAAE,EAAE,CAAC;MACxC,OAAOL,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAR,MAAM,EAAE,MAAOW,QAAQ,IAAK;IACxB,IAAI;MACA,MAAMN,QAAQ,GAAG,MAAMN,GAAG,CAACa,IAAI,CAAC,EAAE,EAAED,QAAQ,CAAC;MAC7C,OAAON,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAK,MAAM,EAAE,MAAAA,CAAOH,EAAE,EAAEC,QAAQ,KAAK;IAC5B,IAAI;MACA,MAAMN,QAAQ,GAAG,MAAMN,GAAG,CAACe,GAAG,CAAC,IAAIJ,EAAE,EAAE,EAAEC,QAAQ,CAAC;MAClD,OAAON,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAO,MAAM,EAAE,MAAOL,EAAE,IAAK;IAClB,IAAI;MACA,MAAML,QAAQ,GAAG,MAAMN,GAAG,CAACgB,MAAM,CAAC,IAAIL,EAAE,EAAE,CAAC;MAC3C,OAAOL,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ;AACJ,CAAC;AAED,eAAeL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}